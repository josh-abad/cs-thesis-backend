(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6acf916c"],{3947:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),r={class:"p-4"},c=Object(n["j"])("div",{class:"font-bold text-xl"},"Face Identification",-1),i=Object(n["j"])("div",{class:"text-gray-400 text-sm"}," Please upload a picture of your face. This image will only be used to identify you during exams. ",-1);function l(e,t,a,l,s,o){var d=Object(n["A"])("ImageUpload"),u=Object(n["A"])("BasePanel");return Object(n["s"])(),Object(n["f"])("div",r,[Object(n["j"])(u,null,{default:Object(n["M"])((function(){return[c,i,Object(n["j"])(d,{class:"mt-4"})]})),_:1})])}var s={class:"flex"},o={key:0,class:"mr-4"},d=Object(n["i"])("New"),u=Object(n["i"])("Current"),b={key:1},j=Object(n["j"])("div",{class:"w-56 h-56 bg-dark-06 rounded-lg"},[Object(n["j"])("div",{class:"flex items-center justify-center h-full text-gray-500 font-semibold uppercase tracking-wider"}," No image ")],-1),m={method:"post",enctype:"multipart/form-data",class:"mt-2"},f={class:"flex justify-between items-end"},v={class:"cursor-pointer border border-green-500 text-green-500 hover:text-white hover:bg-green-500 flex flex-col px-4 py-2 items-center rounded-lg focus:outline-none"},p=Object(n["j"])("svg",{class:"fill-current w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[Object(n["j"])("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})],-1),g=Object(n["j"])("span",{class:"text-sm"},"Select Image",-1),O=Object(n["i"])("Confirm");function h(e,t,a,r,c,i){var l,h,w=Object(n["A"])("BaseLabel"),x=Object(n["A"])("Preview"),k=Object(n["A"])("Feedback"),y=Object(n["A"])("BaseButton");return Object(n["s"])(),Object(n["f"])("div",null,[Object(n["j"])("div",s,[e.previewImage?(Object(n["s"])(),Object(n["f"])("div",o,[Object(n["j"])(w,{emphasis:""},{default:Object(n["M"])((function(){return[d]})),_:1}),Object(n["j"])(x,{src:e.previewImage},null,8,["src"])])):Object(n["g"])("",!0),Object(n["j"])("div",{class:["ease-in-out duration-300 transform",{"opacity-50 scale-95":e.validImage}]},[Object(n["j"])(w,{emphasis:""},{default:Object(n["M"])((function(){return[u]})),_:1}),null!==(l=e.user)&&void 0!==l&&l.referenceImageUrl?(Object(n["s"])(),Object(n["f"])(x,{key:0,src:null===(h=e.user)||void 0===h?void 0:h.referenceImageUrl},null,8,["src"])):(Object(n["s"])(),Object(n["f"])("div",b,[j]))],2)]),Object(n["j"])(k,{class:["mt-2",{"opacity-0":!e.image}],valid:e.validImage,loading:e.loading},null,8,["class","valid","loading"]),Object(n["j"])("form",m,[Object(n["j"])("div",f,[Object(n["j"])("label",v,[p,g,Object(n["j"])("input",{type:"file",name:"image",accept:".jpg,.jpeg,.png",class:"hidden",onChange:t[1]||(t[1]=function(){return e.handleChange&&e.handleChange.apply(e,arguments)})},null,32)]),Object(n["j"])(y,{class:"mt-2",onClick:Object(n["O"])(e.handleSubmit,["prevent"]),disabled:!(e.image&&e.validImage),type:"submit",prominent:""},{default:Object(n["M"])((function(){return[O]})),_:1},8,["onClick","disabled"])])])])}var w=a("5530"),x=(a("96cf"),a("1da1")),k=a("77bd"),y=a("2d40"),I=a("219d"),B=a("82ea"),C=a("ab39"),L={key:0},R={class:"inline-flex items-center text-sm"},A=Object(n["i"])(" Detecting face "),z={class:"fill-current w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor"},F={key:0,"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},M={key:1,"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"},P={class:"text-sm ml-1"},U={key:0},q={key:1};function S(e,t,a,r,c,i){var l=Object(n["A"])("LoadingWheel");return Object(n["s"])(),Object(n["f"])("div",null,[e.loading?(Object(n["s"])(),Object(n["f"])("div",L,[Object(n["j"])("div",R,[Object(n["j"])(l,{class:"mr-1"}),A])])):(Object(n["s"])(),Object(n["f"])("div",{key:1,class:["inline-flex items-center",e.valid?"text-green-300":"text-red-300"]},[(Object(n["s"])(),Object(n["f"])("svg",z,[e.valid?(Object(n["s"])(),Object(n["f"])("path",F)):(Object(n["s"])(),Object(n["f"])("path",M))])),Object(n["j"])("div",P,[e.valid?(Object(n["s"])(),Object(n["f"])("div",U,"Face detected")):(Object(n["s"])(),Object(n["f"])("div",q,"No face detected in image"))])],2))])}var _={class:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24"},D=Object(n["j"])("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),H=Object(n["j"])("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1);function N(e,t){return Object(n["s"])(),Object(n["f"])("svg",_,[D,H])}const J={};J.render=N;var V=J,W=Object(n["k"])({name:"Feedback",components:{LoadingWheel:V},props:{valid:{type:Boolean,required:!0},loading:{type:Boolean,required:!0}}});W.render=S;var $=W,E={alt:"Preview Image",class:"rounded-lg shadow w-56 h-56 overflow-hidden object-cover"};function T(e,t){return Object(n["s"])(),Object(n["f"])("img",E)}const G={};G.render=T;var K=G,Q=a("3a42"),X=a("323e"),Y=a.n(X),Z="/models",ee=Object(n["k"])({name:"ImageUpload",components:{BaseButton:B["a"],Feedback:$,Preview:K,BaseLabel:Q["a"]},mixins:[I["a"]],data:function(){return{image:null,previewImage:null,validImage:!1,loading:!1}},mounted:function(){return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C["i"](Z);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},methods:{handleSubmit:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var a,n,r,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.user){t.next=2;break}return t.abrupt("return");case 2:if(a=e.user,n=a.token,r=a.id,e.image){t.next=5;break}return t.abrupt("return");case 5:return c=new FormData,c.append("image",e.image),Y.a.start(),t.next=10,k["a"].uploadImage(r,c);case 10:i=t.sent,Y.a.done(),e.$store.commit(y["q"],Object(w["a"])({token:n},i)),e.previewImage=null,e.image=null,e.validImage=!1;case 16:case"end":return t.stop()}}),t)})))()},handleChange:function(e){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.loading=!0,t.image=(null===(n=e.target.files)||void 0===n?void 0:n[0])||null,t.image&&(r=new FileReader,r.readAsDataURL(t.image),r.addEventListener("load",function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(a){var n,r,c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.previewImage=null===(n=a.target)||void 0===n?void 0:n.result,e.next=3,C["f"](t.previewImage);case 3:return r=e.sent,c=new C["c"],e.prev=5,e.next=8,C["e"](r,c);case 8:i=e.sent,t.loading=!1,t.validImage=!!i,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return a.stop()}}),a)})))()}}});ee.render=h;var te=ee,ae=a("19bf"),ne=Object(n["k"])({name:"FaceIdentificationPage",components:{ImageUpload:te,BasePanel:ae["a"]},props:{userId:{type:String,required:!0}}});ne.render=l;t["default"]=ne},"3a42":function(e,t,a){"use strict";var n=a("7a23");function r(e,t,a,r,c,i){return Object(n["s"])(),Object(n["f"])("div",{class:["text-xs text-gray-400 font-semibold mb-1",e.emphasis?"uppercase tracking-wider":"capitalize"]},[Object(n["z"])(e.$slots,"default")],2)}var c=Object(n["k"])({name:"BaseLabel",props:{emphasis:{type:Boolean,default:!1}}});c.render=r;t["a"]=c}}]);
//# sourceMappingURL=chunk-6acf916c.c0f30c1e.js.map